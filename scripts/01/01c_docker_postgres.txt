# Postgres container download und erster Test, indem wir eine Datenbank anlegen
sudo -s
docker pull postgres
export DOCKER_CONTAINERNAME=Postgres
export NETWORK=my-docker-network
docker network create --driver=bridge --subnet=10.0.4.0/24 --ip-range=10.0.4.0/24 --gateway=10.0.4.1 $NETWORK
# additionally set "-e POSTGRES_USER=postgres"
docker run --name $DOCKER_CONTAINERNAME --network ${NETWORK} -p 5432:5432 -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=my-secret-pw -d postgres:latest
#interaktiver login über psql SQL-Commandline in den laufenden Container
# über --tty=false kann man eine Kommandosequenz als Here-Document übergeben
docker exec -i --tty=false -u postgres ${DOCKER_CONTAINERNAME} psql <<!
   CREATE ROLE scott LOGIN PASSWORD 'FhIms2024';
   CREATE DATABASE ims 
   WITH 
      ENCODING = 'UTF8'
      OWNER = scott
      CONNECTION LIMIT = 100;
   \c ims
!